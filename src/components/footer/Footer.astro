---
// Footer.astro - Main footer component based on Figma design
import "./Footer.css";

export interface Props {
  class?: string;
}

const { class: className = "" } = Astro.props;

// Get base URL from Astro environment
const baseUrl = import.meta.env.BASE_URL;

// Logo image - now using local asset
const logoImage = `${baseUrl}images/logos/knowbility-logo.png`;

// Navigation structure from Figma
const footerSections = [
  {
    title: "About us",
    links: [
      { label: "Who we are", href: `${baseUrl}about#who-we-are` },
      { label: "Our mission and goal", href: `${baseUrl}about#mission` },
      { label: "Our team", href: `${baseUrl}about#team` },
    ],
  },
  {
    title: "What we do",
    links: [
      { label: "CAFA", href: `${baseUrl}what-we-do#cafa` },
      {
        label: "Police oversight",
        href: `${baseUrl}what-we-do#police-oversight`,
      },
      {
        label: "Participatory defense",
        href: `${baseUrl}what-we-do#participatory-defense`,
      },
      { label: "PDO", href: `${baseUrl}what-we-do#pdo` },
      {
        label: "Early case review",
        href: `${baseUrl}what-we-do#early-case-review`,
      },
      { label: "Diversion", href: `${baseUrl}what-we-do#diversion` },
    ],
  },
  {
    title: "Resources",
    links: [
      { label: "If you are arrested", href: `${baseUrl}resources#arrested` },
    ],
  },
  {
    title: "Blog",
    links: [{ label: "Blog", href: `${baseUrl}blog` }],
  },
  {
    title: "Get involved",
    links: [{ label: "Contact us", href: `${baseUrl}get-involved#contact` }],
  },
];
---

<script>
  // Import Momentum Design components
  import "@momentum-design/components/dist/components/text/index.js";
  import "@momentum-design/components/dist/components/link/index.js";
</script>

<footer class={`asjr-footer ${className}`}>
  <div class="footer-content">
    <!-- Sitemap Section -->
    <div class="footer-sitemap">
      <!-- Logo Section -->
      <div class="footer-logo">
        <div class="logo-placeholder" aria-label="ASJR Logo"></div>
        <img src={logoImage} alt="Knowbility Logo" class="knowbility-logo" />
      </div>

      <!-- Desktop Navigation Links -->
      <nav class="footer-sections footer-sections--desktop">
        {
          footerSections.map((section) => (
            <div class="footer-section">
              <mdc-text
                type="body-large-medium"
                tagname="h3"
                class="footer-section-title"
              >
                {section.title}
              </mdc-text>
              <div class="footer-links">
                {section.links.map((link) => (
                  <mdc-link href={link.href} class="footer-link" inline>
                    {link.label}
                  </mdc-link>
                ))}
              </div>
            </div>
          ))
        }
      </nav>

      <!-- Mobile Navigation Links -->
      <nav class="footer-sections footer-sections--mobile">
        {
          footerSections.map((section) => (
            <div class="footer-section">
              <mdc-text
                type="body-large-medium"
                tagname="h3"
                class="footer-section-title"
              >
                {section.title}
              </mdc-text>
            </div>
          ))
        }
      </nav>
    </div>

    <!-- Copyright Section -->
    <div class="footer-copyright">
      <mdc-text type="body-midsize-regular" tagname="p" class="copyright-text">
        Â© 2025 Advocates for Social Justice Reform. All Rights Reserved.
      </mdc-text>
    </div>
  </div>
</footer>
