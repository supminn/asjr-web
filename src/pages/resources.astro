---
import Layout from '../layouts/Layout.astro';
import { t, type Lang } from '../i18n/get';

import { Image } from 'astro:assets';
import Step2Image from '../assets/images/resources/step2.png';
import Step4Image from '../assets/images/resources/step4.png';
import Step5Image from '../assets/images/resources/step5.jpg';

import CheckCircle from 'phosphor-astro/CheckCircle.astro';
import SpeakerSimpleSlash from 'phosphor-astro/SpeakerSimpleSlash.astro';
import Keyhole from 'phosphor-astro/Keyhole.astro';

const baseUrl = import.meta.env.BASE_URL;

// Detect current language from URL
const currentPath = Astro.url.pathname;

// Remove baseUrl to get relative path for language detection
const relativePath = currentPath.startsWith(baseUrl)
  ? currentPath.slice(baseUrl.length)
  : currentPath;

const lang: Lang =
  relativePath.startsWith('es/') || relativePath.startsWith('es') ? 'es' : 'en';
---

<Layout title={t(lang, 'resources.pageTitle')}>
  <section class="section resources">
    <div class="inner-container">
      <h1>{t(lang, 'resources.title')}</h1>
      <div class="resources-content">
        <div class="content-step">
          <mdc-text type="heading-small-bold" tagname="h3"
            >{t(lang, 'resources.step1.title')}</mdc-text
          >
          <div class="description-box step-1-description">
            <ul>
              <li>{t(lang, 'resources.step1.detail1')}</li>
              <li>{t(lang, 'resources.step1.detail2')}</li>
              <li>{t(lang, 'resources.step1.detail3')}</li>
            </ul>
          </div>
        </div>

        <div class="content-step">
          <mdc-text type="heading-small-bold" tagname="h3"
            >{t(lang, 'resources.step2.title')}</mdc-text
          >
          <div class="description-box step-2-description">
            <ul>
              <li>{t(lang, 'resources.step2.detail1')}</li>
              <li>{t(lang, 'resources.step2.detail2')}</li>
              <li>{t(lang, 'resources.step2.detail3')}</li>
              <li>{t(lang, 'resources.step2.detail4')}</li>
            </ul>
            <Image src={Step2Image} alt={t(lang, 'resources.step2.imageAlt')} />
          </div>
        </div>

        <div class="content-step">
          <mdc-text type="heading-small-bold" tagname="h3"
            >{t(lang, 'resources.step3.title')}</mdc-text
          >
          <div class="description-box step-3-description">
            <ul>
              <li>{t(lang, 'resources.step3.detail1')}</li>
              <li>{t(lang, 'resources.step3.detail2')}</li>
            </ul>
          </div>
        </div>

        <div class="content-step">
          <mdc-text type="heading-small-bold" tagname="h3"
            >{t(lang, 'resources.step4.title')}</mdc-text
          >
          <div class="description-box step-4-description">
            <ul>
              <li>{t(lang, 'resources.step4.detail1')}</li>
              <ul>
                <li>{t(lang, 'resources.step4.subdetail1')}</li>
                <li>{t(lang, 'resources.step4.subdetail2')}</li>
                <li>{t(lang, 'resources.step4.subdetail3')}</li>
                <li>{t(lang, 'resources.step4.subdetail4')}</li>
                <li>{t(lang, 'resources.step4.subdetail5')}</li>
                <li>{t(lang, 'resources.step4.subdetail6')}</li>
              </ul>
              <li>{t(lang, 'resources.step4.detail2')}</li>
            </ul>
            <Image src={Step4Image} alt={t(lang, 'resources.step4.imageAlt')} />
          </div>
        </div>

        <div class="content-step">
          <mdc-text type="heading-small-bold" tagname="h3"
            >{t(lang, 'resources.step5.title')}</mdc-text
          >
          <div class="description-box step-5-description">
            <ul>
              <li>{t(lang, 'resources.step5.detail1')}</li>
              <li>{t(lang, 'resources.step5.detail2')}</li>
              <li>{t(lang, 'resources.step5.detail3')}</li>
              <li>{t(lang, 'resources.step5.detail4')}</li>
              <li>{t(lang, 'resources.step5.detail5')}</li>
              <li>{t(lang, 'resources.step5.detail6')}</li>
            </ul>
            <Image src={Step5Image} alt={t(lang, 'resources.step5.imageAlt')} />
          </div>
        </div>
      </div>
    </div>

    <section class="section rights-checklist">
      <mdc-text type="heading-large-bold" tagname="h2"
        >{t(lang, 'resources.checklist.title')}</mdc-text
      >
      <div class="inner-container who-we-are-card-list">
        <div class="card-list">
          <ul>
            <li>
              <div class="card-icon"><CheckCircle class="icon" /></div>
              <label>{t(lang, 'resources.checklist.point1.title')}</label>
              <p>
                {t(lang, 'resources.checklist.point1.detail')}
              </p>
            </li>
            <li>
              <div class="card-icon"><SpeakerSimpleSlash class="icon" /></div>
              <label>{t(lang, 'resources.checklist.point2.title')}</label>
              <p>
                {t(lang, 'resources.checklist.point2.detail')}
              </p>
            </li>
            <li>
              <div class="card-icon"><Keyhole class="icon" /></div>
              <label>{t(lang, 'resources.checklist.point3.title')}</label>
              <p>
                {t(lang, 'resources.checklist.point3.detail')}
              </p>
            </li>
            <li>
              <div class="card-icon"><CheckCircle class="icon" /></div>
              <label>{t(lang, 'resources.checklist.point4.title')}</label>
              <p>
                {t(lang, 'resources.checklist.point4.detail')}
              </p>
            </li>
          </ul>
        </div>
      </div>
    </section>

    <section class="section where-to-get-help">
      <mdc-text type="heading-large-bold" tagname="h2"
        >{t(lang, 'resources.gethelp.title')}</mdc-text
      >
      <div class="inner-container who-we-are-card-list">
        <div class="card-list">
          <ul>
            <li>
              <label>{t(lang, 'resources.gethelp.point1.title')}</label>
              <p>
                {t(lang, 'resources.gethelp.point1.detail')}
              </p>
            </li>
            <li>
              <label>{t(lang, 'resources.gethelp.point2.title')}</label>
              <p>
                {t(lang, 'resources.gethelp.point2.detail1')}<br />
                {t(lang, 'resources.gethelp.point2.detail2')}
              </p>
            </li>
            <li>
              <label>{t(lang, 'resources.gethelp.point3.title')}</label>
              <p>
                {t(lang, 'resources.gethelp.point3.detail1')}<br />
                {t(lang, 'resources.gethelp.point3.detail2')}
              </p>
            </li>
            <li>
              <label>{t(lang, 'resources.gethelp.point4.title')}</label>
              <p>
                {t(lang, 'resources.gethelp.point4.detail')}
              </p>
            </li>
            <li>
              <label>{t(lang, 'resources.gethelp.point5.title')}</label>
              <p>
                {t(lang, 'resources.gethelp.point5.detail1')}<br />
                {t(lang, 'resources.gethelp.point5.detail2')}
              </p>
            </li>
          </ul>
        </div>
      </div>
    </section>
  </section>
</Layout>

<style>
  .rights-checklist,
  .where-to-get-help {
    max-width: var(--max-width);
    padding: var(--vertical-padding) var(--horizontal-padding);
    gap: 2.5rem;
  }
  .rights-checklist{
    margin: 0 auto;
  }
  .resources-content {
    display: flex;
    padding: 0 var(--horizontal-padding);
    flex-direction: column;
    gap: 5rem;
  }
  .description-box {
    padding: 1.5rem;
    border-radius: 0.5rem;
    border: 1px solid
      var(--mds-color-theme-outline-primary-normal, rgba(0, 0, 0, 0.46));
  }
  .description-box li {
    /* apps/body/midsize/regular */
    font-size: 1rem;
    font-style: normal;
    font-weight: 400;
    line-height: 1.25rem;
  }
  .rights-checklist {
    align-items: start;
  }
  .icon {
    fill: var(--color-theme-text-accent-normal, #0353a8);
  }

  @media screen and (max-width: 768px) {
    .resources-content {
      gap: 3rem;
    }
  }
</style>

<script>
  import '@momentum-design/components/dist/components/text/index.js';
  import '@momentum-design/components/dist/components/card/index.js';
  import '@momentum-design/components/dist/components/button/index.js';
</script>
