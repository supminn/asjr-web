---
import Layout from '../layouts/Layout.astro';
import { t, type Lang } from '../i18n/get';
import GetInvolvedForm from '../components/shared/Form/GetInvolvedForm.astro';

const baseUrl = import.meta.env.BASE_URL;

// Detect current language from URL
const currentPath = Astro.url.pathname;

// Remove baseUrl to get relative path for language detection
const relativePath = currentPath.startsWith(baseUrl)
  ? currentPath.slice(baseUrl.length)
  : currentPath;

const lang: Lang =
  relativePath.startsWith('es/') || relativePath.startsWith('es') ? 'es' : 'en';
---

<Layout title={t(lang, 'getInvolved.pageTitle')}>
  <section class="section get-involved-index">
    <div class="inner-container">
      <mdc-text type="heading-large-bold" tagname="h2" class="form-title">
        {t(lang, 'form.title')}
      </mdc-text>

      <GetInvolvedForm lang={lang} />
    </div>
  </section>
</Layout>
