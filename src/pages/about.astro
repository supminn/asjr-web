---
import Layout from "../layouts/Layout.astro";

import { Image } from "astro:assets";
import Hero01 from "../assets/images/about/hero-01.png";
import Hero02 from "../assets/images/about/hero-02.png";
import VideoPlaceholder from "../assets/images/about/video-placeholder.png";
import VisionImage from "../assets/images/about/vision.png";
import MissionImage from "../assets/images/about/mission.png";

//Phosphor icons
import GraduationCap from "phosphor-astro/GraduationCap.astro";
import ChatsTeardrop from "phosphor-astro/ChatsTeardrop.astro";
import SpeakerHigh from "phosphor-astro/SpeakerHigh.astro";
import Handshake from "phosphor-astro/Handshake.astro";
import SealCheck from "phosphor-astro/SealCheck.astro";

import { t, type Lang } from "../i18n/get";

const baseUrl = import.meta.env.BASE_URL;

// Detect current language from URL
const currentPath = Astro.url.pathname;

// Remove baseUrl to get relative path for language detection
const relativePath = currentPath.startsWith(baseUrl)
  ? currentPath.slice(baseUrl.length)
  : currentPath;

const lang: Lang =
  relativePath.startsWith("es/") || relativePath.startsWith("es") ? "es" : "en";
---

<script>
  import "@momentum-design/components/dist/components/button/index.js";
  import "@momentum-design/components/dist/components/buttonlink/index.js";
  import "@momentum-design/components/dist/components/card/index.js";
  import "@momentum-design/components/dist/components/icon/index.js";
  import "@momentum-design/components/dist/components/text/index.js";
</script>

<Layout title={t(lang, "about.hero.title") + " - ASJR"}>
  <!-- Hero Section -->
  <section class="section about-hero">
    <div class="inner-container">
      <div class="section-title">
        <h1>{t(lang, "about.hero.title")}</h1>
        <p class="hero-subtitle">
          {t(lang, "about.hero.subtitle")}
        </p>
      </div>

      <div class="hero-images">
        <div class="hero-image-large">
          <Image src={Hero01} alt={t(lang, "about.hero.imageAlt1")} />
        </div>
        <div class="hero-image-small">
          <Image src={Hero02} alt={t(lang, "about.hero.imageAlt2")} />
        </div>
      </div>
    </div>
  </section>

  <!-- Our Story (Video Section) -->
  <section class="section secondary about-story">
    <div class="inner-container">
      <div class="section-title centered">
        <h2 class="sub-header">
          {t(lang, "about.story.heading")}
        </h2>
        <p class="story-description">
          {t(lang, "about.story.description")}
        </p>
      </div>

      <div class="video-container">
        <Image src={VideoPlaceholder} alt={t(lang, "about.story.videoAlt")} />
      </div>
    </div>
  </section>

  <!-- Our Vision -->
  <section class="section about-vision">
    <div class="inner-container">
      <div class="section-content">
        <div class="section-text">
          <h2>{t(lang, "about.vision.heading")}</h2>
          <p>
            {t(lang, "about.vision.description")}
          </p>
        </div>
        <div class="section-image">
          <Image src={VisionImage} alt={t(lang, "about.vision.imageAlt")} />
        </div>
      </div>
    </div>
  </section>

  <!-- Our Mission -->
  <section class="section secondary about-mission">
    <div class="inner-container">
      <div class="section-content">
        <div class="section-image">
          <Image src={MissionImage} alt={t(lang, "about.mission.imageAlt")} />
        </div>
        <div class="section-text">
          <h2>{t(lang, "about.mission.heading")}</h2>
          <p>
            {t(lang, "about.mission.description")}
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Our Goals -->
  <section class="section tertiary about-goals">
    <div class="inner-container">
      <!-- First Row: Header + 2 Cards -->
      <div class="goals-row-1">
        <div class="goals-header">
          <div class="section-title">
            <h2>{t(lang, "about.goals.heading")}</h2>
            <p class="goals-description">
              {t(lang, "about.goals.description")}
            </p>
          </div>
        </div>

        <div class="card-list goals-cards-row-1">
          <ul>
            <li>
              <div class="card-icon"><GraduationCap class="icon" /></div>
              <label>{t(lang, "about.goals.education.title")}</label>
              <p>
                {t(lang, "about.goals.education.description")}
              </p>
            </li>
            <li>
              <div class="card-icon"><ChatsTeardrop class="icon" /></div>
              <label>{t(lang, "about.goals.communication.title")}</label>
              <p>
                {t(lang, "about.goals.communication.description")}
              </p>
            </li>
          </ul>
        </div>
      </div>

      <!-- Second Row: 3 Cards -->
      <div class="card-list goals-cards-row-2">
        <ul>
          <li>
            <div class="card-icon"><SpeakerHigh class="icon" /></div>
            <label>{t(lang, "about.goals.advocacy.title")}</label>
            <p>
              {t(lang, "about.goals.advocacy.description")}
            </p>
          </li>
          <li>
            <div class="card-icon"><Handshake class="icon" /></div>
            <label>{t(lang, "about.goals.collaboration.title")}</label>
            <p>
              {t(lang, "about.goals.collaboration.description")}
            </p>
          </li>
          <li>
            <div class="card-icon"><SealCheck class="icon" /></div>
            <label>{t(lang, "about.goals.accountability.title")}</label>
            <p>
              {t(lang, "about.goals.accountability.description")}
            </p>
          </li>
        </ul>
      </div>
    </div>
  </section>
</Layout>

<script>
  // Import the components we need
  import "@momentum-design/components/dist/components/text/index.js";
  import "@momentum-design/components/dist/components/button/index.js";
  import "@momentum-design/components/dist/components/card/index.js";
</script>
